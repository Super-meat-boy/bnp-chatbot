{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\choko\\\\Projects\\\\bnp chatbot\\\\src\\\\components\\\\chatbot\\\\BnpChatbot.js\";\nimport React from \"react\";\nimport ChatBot from \"react-simple-chatbot\";\nimport moment from \"moment\";\n\nfunction checkDateValidity(value) {\n  const dateEntered = value;\n\n  if (moment(dateEntered, \"DD.MM.YYYY\", true).isValid() && moment(dateEntered, \"DD.MM.YYYY\", true) < moment.now()) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction calculateAge(birthday) {\n  // birthday is a date\n  const parts = birthday.match(/(\\d+)/g); // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n\n  const birthdayTransformed = new Date(parts[2], parts[1] - 1, parts[0]); // months are 0-based\n\n  const ageDifMs = Date.now() - birthdayTransformed.getTime();\n  console.log(ageDifMs);\n  const ageDate = new Date(ageDifMs); // miliseconds from epoch\n\n  console.log(Math.abs(ageDate.getUTCFullYear()));\n\n  if (Math.abs(ageDate.getUTCFullYear() - 1970)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nclass BnpChatbot extends React.Component {\n  componentDidMount() {\n    this.handleEnd = this.handleEnd.bind(this);\n    const steps = this.props.steps;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: 'TOTOOOO',\n      gender: '',\n      age: ''\n    };\n  }\n\n  handleEnd({\n    steps,\n    values\n  }) {\n    // console.log(steps);\n    // console.log(values);\n    console.log(\"\".concat(values[0]));\n  }\n\n  render() {\n    const _this$state = this.state,\n          name = _this$state.name,\n          gender = _this$state.gender,\n          age = _this$state.age;\n    const config = {\n      width: \"300px\",\n      height: \"400px\",\n      floating: true\n    };\n    const steps = [{\n      id: \"Greet\",\n      message: \"Hello, Welcome to our BNP Chatbot\",\n      trigger: \"Ask Gender\"\n    }, {\n      id: \"Ask Gender\",\n      message: \"Vous-êtes un homme ou une femme ?\",\n      trigger: \"gender\"\n    }, {\n      id: \"gender\",\n      options: [{\n        value: \"Homme\",\n        label: \"Homme\",\n        trigger: \"Ask Name\"\n      }, {\n        value: \"Femme\",\n        label: \"Femme\",\n        trigger: \"Ask Name\"\n      }]\n    }, {\n      id: \"Ask Name\",\n      message: \"Merci, quel est votre prénom\",\n      trigger: \"name\"\n    }, {\n      id: \"name\",\n      user: true,\n      trigger: \"Personalize Greetings\"\n    }, {\n      id: \"Personalize Greetings\",\n      message: \"Enchanté {previousValue}, Joli prénom\",\n      trigger: \"Asking for birthdate\"\n    }, {\n      id: \"Asking for birthdate\",\n      message: \"Quelle est votre date de naissance ? (format dd.mm.yyyy souhaité)\",\n      trigger: \"Waiting for birthdate input\"\n    }, {\n      id: \"Waiting for birthdate input\",\n      user: true,\n      validator: value => {\n        if (calculateAge(value)) {\n          console.log('majeur');\n          return true;\n        }\n\n        console.log('mineur');\n        return 'mineur';\n      },\n      trigger: 'Done'\n    }, {\n      id: 'Done',\n      component: React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" This is the end\"),\n      end: true\n    }];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(ChatBot, Object.assign({\n      steps: steps\n    }, config, {\n      handleEnd: this.handleEnd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, this.state.name));\n  }\n\n}\n\nexport default BnpChatbot;","map":{"version":3,"sources":["C:\\Users\\choko\\Projects\\bnp chatbot\\src\\components\\chatbot\\BnpChatbot.js"],"names":["React","ChatBot","moment","checkDateValidity","value","dateEntered","isValid","now","calculateAge","birthday","parts","match","birthdayTransformed","Date","ageDifMs","getTime","console","log","ageDate","Math","abs","getUTCFullYear","BnpChatbot","Component","componentDidMount","handleEnd","bind","steps","props","constructor","state","name","gender","age","values","render","config","width","height","floating","id","message","trigger","options","label","user","validator","component","end"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ChatBot from \"react-simple-chatbot\";\r\nimport moment from \"moment\";\r\n\r\nfunction checkDateValidity(value) {\r\n    const dateEntered = value;\r\n    if (moment(dateEntered, \"DD.MM.YYYY\", true).isValid() && (moment(dateEntered, \"DD.MM.YYYY\", true) < moment.now())) {\r\n        return true\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction calculateAge(birthday) { // birthday is a date\r\n    const parts = birthday.match(/(\\d+)/g);\r\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\r\n    const birthdayTransformed = new Date(parts[2], parts[1] - 1, parts[0]); // months are 0-based\r\n    const ageDifMs = Date.now() - birthdayTransformed.getTime();\r\n    console.log(ageDifMs);\r\n    const ageDate = new Date(ageDifMs); // miliseconds from epoch\r\n    console.log(Math.abs(ageDate.getUTCFullYear()));\r\n\r\n    if (Math.abs(ageDate.getUTCFullYear() - 1970)) {\r\n        return true;\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\n\r\nclass BnpChatbot extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.handleEnd = this.handleEnd.bind(this);\r\n        const {steps} = this.props;\r\n    }\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            name: 'TOTOOOO',\r\n            gender: '',\r\n            age: '',\r\n        };\r\n\r\n\r\n    }\r\n\r\n    handleEnd({steps, values}) {\r\n        // console.log(steps);\r\n        // console.log(values);\r\n        console.log(`${values[0]}`)\r\n    }\r\n\r\n\r\n    render() {\r\n        const {name, gender, age} = this.state;\r\n\r\n        const config = {\r\n            width: \"300px\",\r\n            height: \"400px\",\r\n            floating: true\r\n        };\r\n\r\n\r\n        const steps = [\r\n            {\r\n                id: \"Greet\",\r\n                message: \"Hello, Welcome to our BNP Chatbot\",\r\n                trigger: \"Ask Gender\"\r\n            },\r\n            {\r\n                id: \"Ask Gender\",\r\n                message: \"Vous-êtes un homme ou une femme ?\",\r\n                trigger: \"gender\"\r\n            },\r\n            {\r\n                id: \"gender\",\r\n                options: [\r\n                    {value: \"Homme\", label: \"Homme\", trigger: \"Ask Name\"},\r\n                    {value: \"Femme\", label: \"Femme\", trigger: \"Ask Name\"}\r\n                ]\r\n            },\r\n            {\r\n                id: \"Ask Name\",\r\n                message: \"Merci, quel est votre prénom\",\r\n                trigger: \"name\"\r\n            },\r\n            {\r\n                id: \"name\",\r\n                user: true,\r\n                trigger: \"Personalize Greetings\"\r\n            },\r\n            {\r\n                id: \"Personalize Greetings\",\r\n                message: \"Enchanté {previousValue}, Joli prénom\",\r\n                trigger: \"Asking for birthdate\"\r\n            },\r\n            {\r\n                id: \"Asking for birthdate\",\r\n                message: \"Quelle est votre date de naissance ? (format dd.mm.yyyy souhaité)\",\r\n                trigger: \"Waiting for birthdate input\"\r\n            },\r\n\r\n            {\r\n                id: \"Waiting for birthdate input\",\r\n                user: true,\r\n\r\n                validator: (value) => {\r\n                    if (calculateAge(value)) {\r\n                        console.log('majeur');\r\n                        return true;\r\n                    }\r\n                    console.log('mineur');\r\n                    return 'mineur';\r\n                },\r\n                trigger: 'Done',\r\n            },\r\n            {\r\n                id: 'Done',\r\n\r\n                component: (\r\n                    <button> This is the end</button>\r\n                ),\r\n                end: true,\r\n            },\r\n\r\n        ];\r\n        return <div>\r\n            <ChatBot steps={steps} {...config} handleEnd={this.handleEnd}/>\r\n            <div>{this.state.name}</div>\r\n        </div>\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default BnpChatbot;\r\n"]},"metadata":{},"sourceType":"module"}